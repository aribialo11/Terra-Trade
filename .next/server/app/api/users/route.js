(()=>{var e={};e.id=701,e.ids=[701],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},9222:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>eF,patchFetch:()=>eW,requestAsyncStorage:()=>eG,routeModule:()=>eB,serverHooks:()=>eJ,staticGenerationAsyncStorage:()=>ez});var i,s,n,o,a,l,h={};r.r(h),r.d(h,{GET:()=>eH});var u=r(9303),c=r(8716),d=r(670),p=r(8277);let f={"X-Client-Info":"supabase-js/1.35.7"},m=()=>"undefined"!=typeof window,b={ERROR_MESSAGE:"Request Failed",MAX_RETRIES:10,RETRY_INTERVAL:2},v="supabase.auth.token",g={name:"sb",lifetime:28800,domain:"",path:"/",sameSite:"lax"};var y=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};let w=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_=(e,t)=>(null==e?void 0:e.status)?"function"!=typeof e.json?t(e):void e.json().then(r=>t({message:w(r),status:(null==e?void 0:e.status)||500})):t({message:b.ERROR_MESSAGE}),k=(e,t,r)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e||(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(r)),i};function x(e,t,r,i,s){return y(this,void 0,void 0,function*(){return new Promise((n,o)=>{e(r,k(t,i,s)).then(e=>{if(!e.ok)throw e;return(null==i?void 0:i.noResolveJson)?n:e.json()}).then(e=>n(e)).catch(e=>_(e,o))})})}function S(e,t,r){return y(this,void 0,void 0,function*(){return x(e,"GET",t,r)})}function T(e,t,r,i){return y(this,void 0,void 0,function*(){return x(e,"POST",t,i,r)})}function P(e,t,r,i){return y(this,void 0,void 0,function*(){return x(e,"PUT",t,i,r)})}function O(e,t,r){let i=r.map(t=>{var r,i,s,n;return r=function(e){if(!e||!e.headers||!e.headers.host)throw Error('The "host" request header is not available');let t=e.headers.host.indexOf(":")>-1&&e.headers.host.split(":")[0]||e.headers.host;return!(["localhost","127.0.0.1"].indexOf(t)>-1||t.endsWith(".local"))}(e),function(e,t,r){let i=r||{},s=encodeURIComponent,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");let o=s(t);if(o&&!n.test(o))throw TypeError("argument val is invalid");let a=e+"="+o;if(null!=i.maxAge){let e=i.maxAge-0;if(isNaN(e)||!isFinite(e))throw TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(e)}if(i.domain){if(!n.test(i.domain))throw TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!n.test(i.path))throw TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw TypeError("option expires is invalid");a+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return a}(t.name,t.value,{maxAge:t.maxAge,expires:new Date(Date.now()+1e3*t.maxAge),httpOnly:!0,secure:r,path:null!==(i=t.path)&&void 0!==i?i:"/",domain:null!==(s=t.domain)&&void 0!==s?s:"",sameSite:null!==(n=t.sameSite)&&void 0!==n?n:"lax"})}),s=t.getHeader("Set-Cookie");return s&&(s instanceof Array?Array.prototype.push.apply(i,s):"string"==typeof s&&i.push(s)),i}function E(e,t,r){t.setHeader("Set-Cookie",O(e,t,r))}var j=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};function $(e){return Math.round(Date.now()/1e3)+e}let R=()=>"undefined"!=typeof window;function A(e,t){var r;t||(t=(null===(r=null==window?void 0:window.location)||void 0===r?void 0:r.href)||"");let i=RegExp("[?&#]"+(e=e.replace(/[\[\]]/g,"\\$&"))+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}let C=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>j(void 0,void 0,void 0,function*(){return yield(yield r.e(664).then(r.t.bind(r,3664,23))).fetch(...e)}):t=fetch,(...e)=>t(...e)},I=(e,t,r)=>j(void 0,void 0,void 0,function*(){R()&&(yield null==e?void 0:e.setItem(t,JSON.stringify(r)))}),U=(e,t)=>j(void 0,void 0,void 0,function*(){let r=R()&&(yield null==e?void 0:e.getItem(t));if(!r)return null;try{return JSON.parse(r)}catch(e){return r}}),N=(e,t)=>{let r=R()&&(null==e?void 0:e.getItem(t));if(!r||"string"!=typeof r)return null;try{return JSON.parse(r)}catch(e){return r}},L=(e,t)=>j(void 0,void 0,void 0,function*(){R()&&(yield null==e?void 0:e.removeItem(t))});var M=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};class D{constructor({url:e="",headers:t={},cookieOptions:r,fetch:i}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},g),r),this.fetch=C(i)}_createRequestHeaders(e){let t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}cookieName(){var e;return null!==(e=this.cookieOptions.name)&&void 0!==e?e:""}getUrlForProvider(e,t){let r=[`provider=${encodeURIComponent(e)}`];if((null==t?void 0:t.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),null==t?void 0:t.queryParams){let e=new URLSearchParams(t.queryParams);r.push(`${e}`)}return`${this.url}/authorize?${r.join("&")}`}signUpWithEmail(e,t,r={}){return M(this,void 0,void 0,function*(){try{let i=Object.assign({},this.headers),s="";r.redirectTo&&(s="?redirect_to="+encodeURIComponent(r.redirectTo));let n=yield T(this.fetch,`${this.url}/signup${s}`,{email:e,password:t,data:r.data,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:i}),o=Object.assign({},n);return o.expires_in&&(o.expires_at=$(n.expires_in)),{data:o,error:null}}catch(e){return{data:null,error:e}}})}signInWithEmail(e,t,r={}){return M(this,void 0,void 0,function*(){try{let i=Object.assign({},this.headers),s="?grant_type=password";r.redirectTo&&(s+="&redirect_to="+encodeURIComponent(r.redirectTo));let n=yield T(this.fetch,`${this.url}/token${s}`,{email:e,password:t,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:i}),o=Object.assign({},n);return o.expires_in&&(o.expires_at=$(n.expires_in)),{data:o,error:null}}catch(e){return{data:null,error:e}}})}signUpWithPhone(e,t,r={}){return M(this,void 0,void 0,function*(){try{let i=Object.assign({},this.headers),s=yield T(this.fetch,`${this.url}/signup`,{phone:e,password:t,data:r.data,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:i}),n=Object.assign({},s);return n.expires_in&&(n.expires_at=$(s.expires_in)),{data:n,error:null}}catch(e){return{data:null,error:e}}})}signInWithPhone(e,t,r={}){return M(this,void 0,void 0,function*(){try{let i=Object.assign({},this.headers),s=yield T(this.fetch,`${this.url}/token?grant_type=password`,{phone:e,password:t,gotrue_meta_security:{captcha_token:r.captchaToken}},{headers:i}),n=Object.assign({},s);return n.expires_in&&(n.expires_at=$(s.expires_in)),{data:n,error:null}}catch(e){return{data:null,error:e}}})}signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:i,provider:s}){return M(this,void 0,void 0,function*(){try{let n=Object.assign({},this.headers),o=yield T(this.fetch,`${this.url}/token?grant_type=id_token`,{id_token:e,nonce:t,client_id:r,issuer:i,provider:s},{headers:n}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=$(o.expires_in)),{data:a,error:null}}catch(e){return{data:null,error:e}}})}sendMagicLinkEmail(e,t={}){var r;return M(this,void 0,void 0,function*(){try{let i=Object.assign({},this.headers),s="";t.redirectTo&&(s+="?redirect_to="+encodeURIComponent(t.redirectTo));let n=null===(r=t.shouldCreateUser)||void 0===r||r;return{data:yield T(this.fetch,`${this.url}/otp${s}`,{email:e,create_user:n,gotrue_meta_security:{captcha_token:t.captchaToken}},{headers:i}),error:null}}catch(e){return{data:null,error:e}}})}sendMobileOTP(e,t={}){var r;return M(this,void 0,void 0,function*(){try{let i=null===(r=t.shouldCreateUser)||void 0===r||r,s=Object.assign({},this.headers);return{data:yield T(this.fetch,`${this.url}/otp`,{phone:e,create_user:i,gotrue_meta_security:{captcha_token:t.captchaToken}},{headers:s}),error:null}}catch(e){return{data:null,error:e}}})}signOut(e){return M(this,void 0,void 0,function*(){try{return yield T(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(e){return{error:e}}})}verifyMobileOTP(e,t,r={}){return M(this,void 0,void 0,function*(){try{let i=Object.assign({},this.headers),s=yield T(this.fetch,`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:i}),n=Object.assign({},s);return n.expires_in&&(n.expires_at=$(s.expires_in)),{data:n,error:null}}catch(e){return{data:null,error:e}}})}verifyOTP({email:e,phone:t,token:r,type:i="sms"},s={}){return M(this,void 0,void 0,function*(){try{let n=Object.assign({},this.headers),o=yield T(this.fetch,`${this.url}/verify`,{email:e,phone:t,token:r,type:i,redirect_to:s.redirectTo},{headers:n}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=$(o.expires_in)),{data:a,error:null}}catch(e){return{data:null,error:e}}})}inviteUserByEmail(e,t={}){return M(this,void 0,void 0,function*(){try{let r=Object.assign({},this.headers),i="";return t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield T(this.fetch,`${this.url}/invite${i}`,{email:e,data:t.data},{headers:r}),error:null}}catch(e){return{data:null,error:e}}})}resetPasswordForEmail(e,t={}){return M(this,void 0,void 0,function*(){try{let r=Object.assign({},this.headers),i="";return t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield T(this.fetch,`${this.url}/recover${i}`,{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},{headers:r}),error:null}}catch(e){return{data:null,error:e}}})}refreshAccessToken(e){return M(this,void 0,void 0,function*(){try{let t=yield T(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers}),r=Object.assign({},t);return r.expires_in&&(r.expires_at=$(t.expires_in)),{data:r,error:null}}catch(e){return{data:null,error:e}}})}setAuthCookie(e,t){"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));let{event:r,session:i}=e.body;if(!r)throw Error("Auth event missing!");if("SIGNED_IN"===r){if(!i)throw Error("Auth session missing!");E(e,t,[{key:"access-token",value:i.access_token},{key:"refresh-token",value:i.refresh_token}].map(e=>{var t;return{name:`${this.cookieName()}-${e.key}`,value:e.value,domain:this.cookieOptions.domain,maxAge:null!==(t=this.cookieOptions.lifetime)&&void 0!==t?t:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}"SIGNED_OUT"===r&&E(e,t,["access-token","refresh-token"].map(e=>({name:`${this.cookieName()}-${e}`,value:"",maxAge:-1}))),t.status(200).json({})}deleteAuthCookie(e,t,{redirectTo:r="/"}){return E(e,t,["access-token","refresh-token"].map(e=>({name:`${this.cookieName()}-${e}`,value:"",maxAge:-1}))),t.redirect(307,r)}getAuthCookieString(e,t){"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));let{event:r,session:i}=e.body;if(!r)throw Error("Auth event missing!");if("SIGNED_IN"===r){if(!i)throw Error("Auth session missing!");return O(e,t,[{key:"access-token",value:i.access_token},{key:"refresh-token",value:i.refresh_token}].map(e=>{var t;return{name:`${this.cookieName()}-${e.key}`,value:e.value,domain:this.cookieOptions.domain,maxAge:null!==(t=this.cookieOptions.lifetime)&&void 0!==t?t:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}return"SIGNED_OUT"===r?O(e,t,["access-token","refresh-token"].map(e=>({name:`${this.cookieName()}-${e}`,value:"",maxAge:-1}))):t.getHeader("Set-Cookie")}generateLink(e,t,r={}){return M(this,void 0,void 0,function*(){try{return{data:yield T(this.fetch,`${this.url}/admin/generate_link`,{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}createUser(e){return M(this,void 0,void 0,function*(){try{let t=yield T(this.fetch,`${this.url}/admin/users`,e,{headers:this.headers});return{user:t,data:t,error:null}}catch(e){return{user:null,data:null,error:e}}})}listUsers(){return M(this,void 0,void 0,function*(){try{return{data:(yield S(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}})}getUserById(e){return M(this,void 0,void 0,function*(){try{return{data:yield S(this.fetch,`${this.url}/admin/users/${e}`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getUserByCookie(e,t){return M(this,void 0,void 0,function*(){try{if(!e.cookies)throw Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");let r=e.cookies[`${this.cookieName()}-access-token`],i=e.cookies[`${this.cookieName()}-refresh-token`];if(!r)throw Error("No cookie found!");let{user:s,error:n}=yield this.getUser(r);if(n){if(!i)throw Error("No refresh_token cookie found!");if(!t)throw Error("You need to pass the res object to automatically refresh the session!");let{data:r,error:s}=yield this.refreshAccessToken(i);if(s)throw s;if(r)return E(e,t,[{key:"access-token",value:r.access_token},{key:"refresh-token",value:r.refresh_token}].map(e=>{var t;return{name:`${this.cookieName()}-${e.key}`,value:e.value,domain:this.cookieOptions.domain,maxAge:null!==(t=this.cookieOptions.lifetime)&&void 0!==t?t:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}})),{token:r.access_token,user:r.user,data:r.user,error:null}}return{token:r,user:s,data:s,error:null}}catch(e){return{token:null,user:null,data:null,error:e}}})}updateUserById(e,t){return M(this,void 0,void 0,function*(){try{let r=yield P(this.fetch,`${this.url}/admin/users/${e}`,t,{headers:this.headers});return{user:r,data:r,error:null}}catch(e){return{user:null,data:null,error:e}}})}deleteUser(e){return M(this,void 0,void 0,function*(){try{let t=yield function(e,t,r,i){return y(this,void 0,void 0,function*(){return x(e,"DELETE",t,i,r)})}(this.fetch,`${this.url}/admin/users/${e}`,{},{headers:this.headers});return{user:t,data:t,error:null}}catch(e){return{user:null,data:null,error:e}}})}getUser(e){return M(this,void 0,void 0,function*(){try{let t=yield S(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(e){return{user:null,data:null,error:e}}})}updateUser(e,t){return M(this,void 0,void 0,function*(){try{let r=yield P(this.fetch,`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(e){return{user:null,data:null,error:e}}})}}var q=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let H={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:{"X-Client-Info":"gotrue-js/1.24.0"}},B=e=>{try{return atob(e.replace(/[-]/g,"+").replace(/[_]/g,"/"))}catch(t){if(t instanceof ReferenceError)return Buffer.from(e,"base64").toString("utf-8");throw t}};class G{constructor(e){this.stateChangeEmitters=new Map,this.networkRetries=0;let t=Object.assign(Object.assign({},H),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.multiTab=t.multiTab,this.localStorage=t.localStorage||globalThis.localStorage,this.api=new D({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions,fetch:t.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),this._handleVisibilityChange(),t.detectSessionInUrl&&R()&&A("access_token")&&this.getSessionFromUrl({storeSession:!0}).then(({error:e})=>{if(e)throw Error("Error getting session from URL.")})}signUp({email:e,password:t,phone:r},i={}){return q(this,void 0,void 0,function*(){try{this._removeSession();let{data:s,error:n}=r&&t?yield this.api.signUpWithPhone(r,t,{data:i.data,captchaToken:i.captchaToken}):yield this.api.signUpWithEmail(e,t,{redirectTo:i.redirectTo,data:i.data,captchaToken:i.captchaToken});if(n)throw n;if(!s)throw"An error occurred on sign up.";let o=null,a=null;return s.access_token&&(a=(o=s).user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),s.id&&(a=s),{user:a,session:o,error:null}}catch(e){return{user:null,session:null,error:e}}})}signIn({email:e,phone:t,password:r,refreshToken:i,provider:s,oidc:n},o={}){return q(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!r){let{error:t}=yield this.api.sendMagicLinkEmail(e,{redirectTo:o.redirectTo,shouldCreateUser:o.shouldCreateUser,captchaToken:o.captchaToken});return{user:null,session:null,error:t}}if(e&&r)return this._handleEmailSignIn(e,r,{redirectTo:o.redirectTo,captchaToken:o.captchaToken});if(t&&!r){let{error:e}=yield this.api.sendMobileOTP(t,{shouldCreateUser:o.shouldCreateUser,captchaToken:o.captchaToken});return{user:null,session:null,error:e}}if(t&&r)return this._handlePhoneSignIn(t,r);if(i){let{error:e}=yield this._callRefreshToken(i);if(e)throw e;return{user:this.currentUser,session:this.currentSession,error:null}}if(s)return this._handleProviderSignIn(s,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});if(n)return this._handleOpenIDConnectSignIn(n);throw Error("You must provide either an email, phone number, a third-party provider or OpenID Connect.")}catch(e){return{user:null,session:null,error:e}}})}verifyOTP(e,t={}){return q(this,void 0,void 0,function*(){try{this._removeSession();let{data:r,error:i}=yield this.api.verifyOTP(e,t);if(i)throw i;if(!r)throw"An error occurred on token verification.";let s=null,n=null;return r.access_token&&(n=(s=r).user,this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),r.id&&(n=r),{user:n,session:s,error:null}}catch(e){return{user:null,session:null,error:e}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return q(this,void 0,void 0,function*(){try{if(!(null===(e=this.currentSession)||void 0===e?void 0:e.access_token))throw Error("Not logged in.");let{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(e){return{data:null,user:null,error:e}}})}update(e){var t;return q(this,void 0,void 0,function*(){try{if(!(null===(t=this.currentSession)||void 0===t?void 0:t.access_token))throw Error("Not logged in.");let{user:r,error:i}=yield this.api.updateUser(this.currentSession.access_token,e);if(i)throw i;if(!r)throw Error("Invalid user data.");let s=Object.assign(Object.assign({},this.currentSession),{user:r});return this._saveSession(s),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(e){return{data:null,user:null,error:e}}})}setSession(e){return q(this,void 0,void 0,function*(){let t;if("string"==typeof e){let{data:r,error:i}=yield this.api.refreshAccessToken(e);if(i)return{session:null,error:i};t=r}else{let r;let i=Math.round(Date.now()/1e3),{refresh_token:s,access_token:n}=e,o=0,a=0,l=n.split(".");if(3!==l.length)throw Error("access_token is not a proper JWT");let h=B(l[1]);try{r=JSON.parse(h)}catch(e){throw Error("access_token is not a proper JWT, invalid JSON in body")}if("object"==typeof r&&r&&"number"==typeof r.exp)o=r.exp,a=i-r.exp;else throw Error("access_token is not a proper JWT, missing exp claim");if(i>o){let{data:e,error:r}=yield this.api.refreshAccessToken(s);if(r)return{session:null,error:r};t=e}else{let{user:e,error:r}=yield this.api.getUser(n);if(r)throw r;t={access_token:n,expires_in:a,expires_at:o,refresh_token:s,token_type:"bearer",user:e}}}try{return this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null}}catch(e){return{error:e,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:this.user()}),this._notifyAllSubscribers("TOKEN_REFRESHED"),this.currentSession}getSessionFromUrl(e){return q(this,void 0,void 0,function*(){try{if(!R())throw Error("No browser detected.");let t=A("error_description");if(t)throw Error(t);let r=A("provider_token"),i=A("provider_refresh_token"),s=A("access_token");if(!s)throw Error("No access_token detected.");let n=A("expires_in");if(!n)throw Error("No expires_in detected.");let o=A("refresh_token");if(!o)throw Error("No refresh_token detected.");let a=A("token_type");if(!a)throw Error("No token_type detected.");let l=Math.round(Date.now()/1e3)+parseInt(n),{user:h,error:u}=yield this.api.getUser(s);if(u)throw u;let c={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:parseInt(n),expires_at:l,refresh_token:o,token_type:a,user:h};if(null==e?void 0:e.storeSession){this._saveSession(c);let e=A("type");this._notifyAllSubscribers("SIGNED_IN"),"recovery"===e&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:c,error:null}}catch(e){return{data:null,error:e}}})}signOut(){var e;return q(this,void 0,void 0,function*(){let t=null===(e=this.currentSession)||void 0===e?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){let{error:e}=yield this.api.signOut(t);if(e)return{error:e}}return{error:null}})}onAuthStateChange(e){try{let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),{data:r,error:null}}catch(e){return{data:null,error:e}}}_handleEmailSignIn(e,t,r={}){var i,s;return q(this,void 0,void 0,function*(){try{let{data:n,error:o}=yield this.api.signInWithEmail(e,t,{redirectTo:r.redirectTo,captchaToken:r.captchaToken});if(o||!n)return{data:null,user:null,session:null,error:o};return((null===(i=null==n?void 0:n.user)||void 0===i?void 0:i.confirmed_at)||(null===(s=null==n?void 0:n.user)||void 0===s?void 0:s.email_confirmed_at))&&(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN")),{data:n,user:n.user,session:n,error:null}}catch(e){return{data:null,user:null,session:null,error:e}}})}_handlePhoneSignIn(e,t,r={}){var i;return q(this,void 0,void 0,function*(){try{let{data:s,error:n}=yield this.api.signInWithPhone(e,t,r);if(n||!s)return{data:null,user:null,session:null,error:n};return(null===(i=null==s?void 0:s.user)||void 0===i?void 0:i.phone_confirmed_at)&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),{data:s,user:s.user,session:s,error:null}}catch(e){return{data:null,user:null,session:null,error:e}}})}_handleProviderSignIn(e,t={}){let r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});try{return R()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(t){if(r)return{provider:e,url:r,data:null,session:null,user:null,error:null};return{data:null,user:null,session:null,error:t}}}_handleOpenIDConnectSignIn({id_token:e,nonce:t,client_id:r,issuer:i,provider:s}){return q(this,void 0,void 0,function*(){if(e&&t&&(r&&i||s))try{let{data:n,error:o}=yield this.api.signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:i,provider:s});if(o||!n)return{user:null,session:null,error:o};return this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"),{user:n.user,session:n,error:null}}catch(e){return{user:null,session:null,error:e}}throw Error("You must provide a OpenID Connect provider with your id token and nonce.")})}_recoverSession(){try{let e=N(this.localStorage,v);if(!e)return null;let{currentSession:t,expiresAt:r}=e,i=Math.round(Date.now()/1e3);r>=i+10&&(null==t?void 0:t.user)&&(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){console.log("error",e)}}_recoverAndRefresh(){return q(this,void 0,void 0,function*(){try{let e=yield U(this.localStorage,v);if(!e)return null;let{currentSession:t,expiresAt:r}=e,i=Math.round(Date.now()/1e3);if(r<i+10){if(this.autoRefreshToken&&t.refresh_token){this.networkRetries++;let{error:e}=yield this._callRefreshToken(t.refresh_token);if(e){if(console.log(e.message),e.message===b.ERROR_MESSAGE&&this.networkRetries<b.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),100*Math.pow(b.RETRY_INTERVAL,this.networkRetries));return}yield this._removeSession()}this.networkRetries=0}else this._removeSession()}else t?(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(e){return console.error(e),null}})}_callRefreshToken(e){var t;return void 0===e&&(e=null===(t=this.currentSession)||void 0===t?void 0:t.refresh_token),q(this,void 0,void 0,function*(){try{if(!e)throw Error("No current session.");let{data:t,error:r}=yield this.api.refreshAccessToken(e);if(r)throw r;if(!t)throw Error("Invalid session data.");return this._saveSession(t),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:t,error:null}}catch(e){return{data:null,error:e}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(t=>t.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;let t=e.expires_at;if(t){let e=t-Math.round(Date.now()/1e3);this._startAutoRefreshToken((e-(e>10?10:.5))*1e3)}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){let t={currentSession:e,expiresAt:e.expires_at};I(this.localStorage,v,t)}_removeSession(){return q(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),L(this.localStorage,v)})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0)&&this.autoRefreshToken&&(this.refreshTokenTimer=setTimeout(()=>q(this,void 0,void 0,function*(){this.networkRetries++;let{error:e}=yield this._callRefreshToken();e||(this.networkRetries=0),(null==e?void 0:e.message)===b.ERROR_MESSAGE&&this.networkRetries<b.MAX_RETRIES&&this._startAutoRefreshToken(100*Math.pow(b.RETRY_INTERVAL,this.networkRetries))}),e),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!R()||!(null==window?void 0:window.addEventListener))return!1;try{null==window||window.addEventListener("storage",e=>{var t;if(e.key===v){let r=JSON.parse(String(e.newValue));(null===(t=null==r?void 0:r.currentSession)||void 0===t?void 0:t.access_token)?(this._saveSession(r.currentSession),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}})}catch(e){console.error("_listenForMultiTabEvents",e)}}_handleVisibilityChange(){if(!this.multiTab||!R()||!(null==window?void 0:window.addEventListener))return!1;try{null==window||window.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this._recoverAndRefresh()})}catch(e){console.error("_handleVisibilityChange",e)}}}class z extends G{constructor(e){super(e)}}var J=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};class F{constructor(e){let t;Object.assign(this,e),e.fetch?t=e.fetch:"undefined"==typeof fetch?t=(...e)=>J(this,void 0,void 0,function*(){return yield(yield r.e(664).then(r.t.bind(r,3664,23))).fetch(...e)}):t=fetch,this.fetch=(...e)=>t(...e),this.shouldThrowOnError=e.shouldThrowOnError||!1,this.allowEmpty=e.allowEmpty||!1}throwOnError(e){return null==e&&(e=!0),this.shouldThrowOnError=e,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(e=>J(this,void 0,void 0,function*(){var t,r,i,s;let n=null,o=null,a=null,l=e.status,h=e.statusText;if(e.ok){let s=null===(t=this.headers.Prefer)||void 0===t?void 0:t.split(",").includes("return=minimal");if("HEAD"!==this.method&&!s){let t=yield e.text();t&&(o="text/csv"===this.headers.Accept?t:JSON.parse(t))}let n=null===(r=this.headers.Prefer)||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),l=null===(i=e.headers.get("content-range"))||void 0===i?void 0:i.split("/");n&&l&&l.length>1&&(a=parseInt(l[1]))}else{let t=yield e.text();try{n=JSON.parse(t)}catch(e){n={message:t}}if(n&&this.allowEmpty&&(null===(s=null==n?void 0:n.details)||void 0===s?void 0:s.includes("Results contain 0 rows"))&&(n=null,l=200,h="OK"),n&&this.shouldThrowOnError)throw n}return{error:n,data:o,count:a,status:l,statusText:h,body:o}}));return this.shouldThrowOnError||(r=r.catch(e=>({error:{message:`FetchError: ${e.message}`,details:"",hint:"",code:e.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),r.then(e,t)}}class W extends F{select(e="*"){let t=!1,r=e.split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this}order(e,{ascending:t=!0,nullsFirst:r=!1,foreignTable:i}={}){let s=void 0===i?"order":`${i}.order`,n=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${n?`${n},`:""}${e}.${t?"asc":"desc"}.${r?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){let r=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){let i=void 0===r?"offset":`${r}.offset`,s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}}class V extends W{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,r){return this.url.searchParams.append(`${e}`,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){let r=void 0===t?"or":`${t}.or`;return this.url.searchParams.append(r,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){let r=t.map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`ov.${t}`):this.url.searchParams.append(`${e}`,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i=null}={}){let s="";"plain"===i?s="pl":"phrase"===i?s="ph":"websearch"===i&&(s="w");let n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`${s}fts${n}.${t}`),this}fts(e,t,{config:r}={}){let i=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`fts${i}.${t}`),this}plfts(e,t,{config:r}={}){let i=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`plfts${i}.${t}`),this}phfts(e,t,{config:r}={}){let i=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`phfts${i}.${t}`),this}wfts(e,t,{config:r}={}){let i=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`wfts${i}.${t}`),this}filter(e,t,r){return this.url.searchParams.append(`${e}`,`${t}.${r}`),this}match(e){return Object.keys(e).forEach(t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)}),this}}class K extends F{constructor(e,{headers:t={},schema:r,fetch:i,shouldThrowOnError:s}={}){super({fetch:i,shouldThrowOnError:s}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}select(e="*",{head:t=!1,count:r=null}={}){this.method="GET";let i=!1,s=e.split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),t&&(this.method="HEAD"),new V(this)}insert(e,{upsert:t=!1,onConflict:r,returning:i="representation",count:s=null}={}){this.method="POST";let n=[`return=${i}`];if(t&&n.push("resolution=merge-duplicates"),t&&void 0!==r&&this.url.searchParams.set("on_conflict",r),this.body=e,s&&n.push(`count=${s}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new V(this)}upsert(e,{onConflict:t,returning:r="representation",count:i=null,ignoreDuplicates:s=!1}={}){this.method="POST";let n=[`resolution=${s?"ignore":"merge"}-duplicates`,`return=${r}`];return void 0!==t&&this.url.searchParams.set("on_conflict",t),this.body=e,i&&n.push(`count=${i}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new V(this)}update(e,{returning:t="representation",count:r=null}={}){this.method="PATCH";let i=[`return=${t}`];return this.body=e,r&&i.push(`count=${r}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new V(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";let r=[`return=${e}`];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new V(this)}}class X extends F{constructor(e,{headers:t={},schema:r,fetch:i,shouldThrowOnError:s}={}){super({fetch:i,shouldThrowOnError:s}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}rpc(e,{head:t=!1,count:r=null}={}){return t?(this.method="HEAD",e&&Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,t)})):(this.method="POST",this.body=e),r&&(void 0!==this.headers.Prefer?this.headers.Prefer+=`,count=${r}`:this.headers.Prefer=`count=${r}`),new V(this)}}let Y={"X-Client-Info":"postgrest-js/0.37.4"};class Z{constructor(e,{headers:t={},schema:r,fetch:i,throwOnError:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Y),t),this.schema=r,this.fetch=i,this.shouldThrowOnError=s}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){return new K(`${this.url}/${e}`,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:r=!1,count:i=null}={}){return new X(`${this.url}/rpc/${e}`,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError}).rpc(t,{head:r,count:i})}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(i||(i={}));let Q=(e,t,r={})=>{var i;let s=null!==(i=r.skipTypes)&&void 0!==i?i:[];return Object.keys(t).reduce((r,i)=>(r[i]=ee(i,e,t,s),r),{})},ee=(e,t,r,i)=>{let s=t.find(t=>t.name===e),n=null==s?void 0:s.type,o=r[e];return n&&!i.includes(n)?et(n,o):er(o)},et=(e,t)=>{if("_"===e.charAt(0))return eo(t,e.slice(1,e.length));switch(e){case i.bool:return ei(t);case i.float4:case i.float8:case i.int2:case i.int4:case i.int8:case i.numeric:case i.oid:return es(t);case i.json:case i.jsonb:return en(t);case i.timestamp:return ea(t);case i.abstime:case i.date:case i.daterange:case i.int4range:case i.int8range:case i.money:case i.reltime:case i.text:case i.time:case i.timestamptz:case i.timetz:case i.tsrange:case i.tstzrange:default:return er(t)}},er=e=>e,ei=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},es=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},en=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},eo=(e,t)=>{if("string"!=typeof e)return e;let r=e.length-1,i=e[r];if("{"===e[0]&&"}"===i){let i;let s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch(e){i=s?s.split(","):[]}return i.map(e=>et(t,e))}return e},ea=e=>"string"==typeof e?e.replace(" ","T"):e,el=require("websocket"),eh={"X-Client-Info":"realtime-js/1.7.5"};(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(s||(s={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(n||(n={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(o||(o={})),(a||(a={})).websocket="websocket",function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(l||(l={}));class eu{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class ec{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let i=t.getUint8(1),s=t.getUint8(2),n=this.HEADER_LENGTH+2,o=r.decode(e.slice(n,n+i));n+=i;let a=r.decode(e.slice(n,n+s));return n+=s,{ref:null,topic:o,event:a,payload:JSON.parse(r.decode(e.slice(n,e.byteLength)))}}}class ed{constructor(e,t,r={},i=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel.joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class ep{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=n.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new ed(this,o.join,this.params,this.timeout),this.rejoinTimer=new eu(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=n.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=n.closed,this.socket.remove(this)}),this.onError(e=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this.isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=n.errored,this.rejoinTimer.scheduleTimeout())}),this.on(o.reply,(e,t)=>{this.trigger(this.replyEventName(t),e)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(!this.joinedOnce)return this.joinedOnce=!0,this.rejoin(e),this.joinPush;throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance"}onClose(e){this.on(o.close,e)}onError(e){this.on(o.error,t=>e(t))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter(t=>t.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ed(this,e,t,r);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=n.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(o.close,"leave",this.joinRef())};this.joinPush.destroy();let r=new ed(this,o.leave,{},e);return r.receive("ok",()=>t()).receive("timeout",()=>t()),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=n.joining,this.joinPush.resend(e))}trigger(e,t,r){let{close:i,error:s,leave:n,join:a}=o;if(r&&[i,s,n,a].indexOf(e)>=0&&r!==this.joinRef())return;let l=this.onMessage(e,t,r);if(t&&!l)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(r=>"*"===r.event?e===(null==t?void 0:t.type):r.event===e).map(e=>e.callback(l,r))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===n.closed}isErrored(){return this.state===n.errored}isJoined(){return this.state===n.joined}isJoining(){return this.state===n.joining}isLeaving(){return this.state===n.leaving}}let ef=()=>{};class em{constructor(e,t){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=eh,this.params={},this.timeout=1e4,this.transport=el.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ef,this.conn=null,this.sendBuffer=[],this.serializer=new ec,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${a.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),(null==t?void 0:t.longpollerTimeout)&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new eu(()=>(function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})})(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){!this.conn&&(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise((r,i)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),r({error:null,data:!0})}catch(e){r({error:e,data:!1})}})}log(e,t,r){this.logger(e,t,r)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case s.connecting:return l.Connecting;case s.open:return l.Open;case s.closing:return l.Closing;default:return l.Closed}}isConnected(){return this.connectionState()===l.Open}remove(e){this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}channel(e,t={}){let r=new ep(e,t,this);return this.channels.push(r),r}push(e){let{topic:t,event:r,payload:i,ref:s}=e,n=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?n():this.sendBuffer.push(n)}onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:r,payload:i,ref:s}=e;(s&&s===this.pendingHeartbeatRef||r===(null==i?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${t} ${r} ${s&&"("+s+")"||""}`,i),this.channels.filter(e=>e.isMember(t)).forEach(e=>e.trigger(r,i,s)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(o.access_token,{access_token:e})})}leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t.isJoined()||t.isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(o.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class eb{constructor(e,t,r,i){let s={},n="*"===i?`realtime:${r}`:`realtime:${r}:${i}`,o=t.Authorization.split(" ")[1];o&&(s.user_token=o),this.subscription=e.channel(n,s)}getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=Q(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=Q(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,e=>{let r={schema:e.schema,table:e.table,commit_timestamp:e.commit_timestamp,eventType:e.type,new:{},old:{},errors:e.errors};t(r=Object.assign(Object.assign({},r),this.getPayloadRecords(e)))}),this}subscribe(e=()=>{}){return this.subscription.onError(t=>e("SUBSCRIPTION_ERROR",t)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",t=>e("SUBSCRIPTION_ERROR",t)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class ev extends K{constructor(e,{headers:t={},schema:r,realtime:i,table:s,fetch:n,shouldThrowOnError:o}){super(e,{headers:t,schema:r,fetch:n,shouldThrowOnError:o}),this._subscription=null,this._realtime=i,this._headers=t,this._schema=r,this._table=s}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new eb(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}let eg={"X-Client-Info":"storage-js/1.7.3"};var ey=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};let ew=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e_=(e,t)=>{if("function"!=typeof e.json)return t(e);e.json().then(r=>t({message:ew(r),status:(null==e?void 0:e.status)||500}))},ek=(e,t,r,i)=>{let s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),r))};function ex(e,t,r,i,s,n){return ey(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,ek(t,i,s,n)).then(e=>{if(!e.ok)throw e;return(null==i?void 0:i.noResolveJson)?o(e):e.json()}).then(e=>o(e)).catch(e=>e_(e,a))})})}function eS(e,t,r,i){return ey(this,void 0,void 0,function*(){return ex(e,"GET",t,r,i)})}function eT(e,t,r,i,s){return ey(this,void 0,void 0,function*(){return ex(e,"POST",t,i,s,r)})}function eP(e,t,r,i,s){return ey(this,void 0,void 0,function*(){return ex(e,"DELETE",t,i,s,r)})}let eO=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>(function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})})(void 0,void 0,void 0,function*(){return yield(yield r.e(664).then(r.t.bind(r,3664,23))).fetch(...e)}):t=fetch,(...e)=>t(...e)};var eE=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};class ej{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},eg),t),this.fetch=eO(r)}listBuckets(){return eE(this,void 0,void 0,function*(){try{return{data:yield eS(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return eE(this,void 0,void 0,function*(){try{return{data:yield eS(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}createBucket(e,t={public:!1}){return eE(this,void 0,void 0,function*(){try{return{data:(yield eT(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(e){return{data:null,error:e}}})}updateBucket(e,t){return eE(this,void 0,void 0,function*(){try{return{data:yield function(e,t,r,i,s){return ey(this,void 0,void 0,function*(){return ex(e,"PUT",t,i,void 0,r)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}emptyBucket(e){return eE(this,void 0,void 0,function*(){try{return{data:yield eT(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}deleteBucket(e){return eE(this,void 0,void 0,function*(){try{return{data:yield eP(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}}var e$=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};let eR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eC{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=eO(i)}uploadOrUpdate(e,t,r,i){return e$(this,void 0,void 0,function*(){try{let s;let n=Object.assign(Object.assign({},eA),i),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(n.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?((s=new FormData).append("cacheControl",n.cacheControl),s.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(s=r).append("cacheControl",n.cacheControl):(s=r,o["cache-control"]=`max-age=${n.cacheControl}`,o["content-type"]=n.contentType);let a=this._removeEmptyFolders(t),l=this._getFinalPath(a),h=yield this.fetch(`${this.url}/object/${l}`,{method:e,body:s,headers:o});if(h.ok)return{data:{Key:l},error:null};{let e=yield h.json();return{data:null,error:e}}}catch(e){return{data:null,error:e}}})}upload(e,t,r){return e$(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}update(e,t,r){return e$(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return e$(this,void 0,void 0,function*(){try{return{data:yield eT(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}copy(e,t){return e$(this,void 0,void 0,function*(){try{return{data:yield eT(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}createSignedUrl(e,t){return e$(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield eT(this.fetch,`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers}),s=`${this.url}${i.signedURL}`;return{data:i={signedURL:s},error:null,signedURL:s}}catch(e){return{data:null,error:e,signedURL:null}}})}createSignedUrls(e,t){return e$(this,void 0,void 0,function*(){try{return{data:(yield eT(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers})).map(e=>Object.assign(Object.assign({},e),{signedURL:e.signedURL?`${this.url}${e.signedURL}`:null})),error:null}}catch(e){return{data:null,error:e}}})}download(e){return e$(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e),r=yield eS(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(e){return{data:null,error:e}}})}getPublicUrl(e){try{let t=this._getFinalPath(e),r=`${this.url}/object/public/${t}`;return{data:{publicURL:r},error:null,publicURL:r}}catch(e){return{data:null,error:e,publicURL:null}}}remove(e){return e$(this,void 0,void 0,function*(){try{return{data:yield eP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}list(e,t,r){return e$(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},eR),t),{prefix:e||""});return{data:yield eT(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(e){return{data:null,error:e}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}class eI extends ej{constructor(e,t={},r){super(e,t,r)}from(e){return new eC(this.url,this.headers,e,this.fetch)}}let eU=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>(function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})})(void 0,void 0,void 0,function*(){return yield(yield r.e(664).then(r.t.bind(r,3664,23))).fetch(...e)}):t=fetch,(...e)=>t(...e)};class eN{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=eU(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t){var r,i,s,n;return r=this,i=void 0,s=void 0,n=function*(){try{let{headers:r,body:i}=null!=t?t:{},s=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign({},this.headers,r),body:i}),n=s.headers.get("x-relay-error");if(n&&"true"===n)return{data:null,error:Error((yield s.text()))};let{responseType:o}=null!=t?t:{};return{data:o&&"json"!==o?"arrayBuffer"===o?yield s.arrayBuffer():"blob"===o?yield s.blob():yield s.text():yield s.json(),error:null}}catch(e){return{data:null,error:e}}},new(s||(s=Promise))(function(e,t){function o(e){try{l(n.next(e))}catch(e){t(e)}}function a(e){try{l(n.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof s?r:new s(function(e){e(r)})).then(o,a)}l((n=n.apply(r,i||[])).next())})}}var eL=function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};let eM={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:f};class eD{constructor(e,t,r){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw Error("supabaseUrl is required.");if(!t)throw Error("supabaseKey is required.");let i=e.replace(/\/$/,""),s=Object.assign(Object.assign({},eM),r);if(this.restUrl=`${i}/rest/v1`,this.realtimeUrl=`${i}/realtime/v1`.replace("http","ws"),this.authUrl=`${i}/auth/v1`,this.storageUrl=`${i}/storage/v1`,i.match(/(supabase\.co)|(supabase\.in)/)){let e=i.split(".");this.functionsUrl=`${e[0]}.functions.${e[1]}.${e[2]}`}else this.functionsUrl=`${i}/functions/v1`;this.schema=s.schema,this.multiTab=s.multiTab,this.fetch=s.fetch,this.headers=Object.assign(Object.assign({},f),null==r?void 0:r.headers),this.shouldThrowOnError=s.shouldThrowOnError||!1,this.auth=this._initSupabaseAuthClient(s),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},s.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get functions(){return new eN(this.functionsUrl,{headers:this._getAuthHeaders(),customFetch:this.fetch})}get storage(){return new eI(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(e){return new ev(`${this.restUrl}/${e}`,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:r=!1,count:i=null}={}){return this._initPostgRESTClient().rpc(e,t,{head:r,count:i})}removeAllSubscriptions(){return eL(this,void 0,void 0,function*(){let e=this.getSubscriptions().slice(),t=e.map(e=>this.removeSubscription(e));return(yield Promise.all(t)).map(({error:t},r)=>({data:{subscription:e[r]},error:t}))})}removeSubscription(e){return eL(this,void 0,void 0,function*(){let{error:t}=yield this._closeSubscription(e),r=this.getSubscriptions(),i=r.filter(e=>e.isJoined()).length;return 0===r.length&&(yield this.realtime.disconnect()),{data:{openSubscriptions:i},error:t}})}_closeSubscription(e){return eL(this,void 0,void 0,function*(){let t=null;if(!e.isClosed()){let{error:r}=yield this._unsubscribeSubscription(e);t=r}return this.realtime.remove(e),{error:t}})}_unsubscribeSubscription(e){return new Promise(t=>{e.unsubscribe().receive("ok",()=>t({error:null})).receive("error",e=>t({error:e})).receive("timeout",()=>t({error:Error("timed out")}))})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:i,headers:s,fetch:n,cookieOptions:o,multiTab:a}){let l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new z({url:this.authUrl,headers:Object.assign(Object.assign({},s),l),autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:i,fetch:n,cookieOptions:o,multiTab:a})}_initRealtimeClient(e){return new em(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},null==e?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new Z(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch,throwOnError:this.shouldThrowOnError})}_getAuthHeaders(){var e,t;let r=Object.assign({},this.headers),i=null!==(t=null===(e=this.auth.session())||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=r.Authorization||`Bearer ${i}`,r}_listenForMultiTabEvents(){if(!this.multiTab||!m()||!(null==window?void 0:window.addEventListener))return null;try{return null==window?void 0:window.addEventListener("storage",e=>{var t,r,i;if("supabase.auth.token"===e.key){let s=JSON.parse(String(e.newValue)),n=null!==(r=null===(t=null==s?void 0:s.currentSession)||void 0===t?void 0:t.access_token)&&void 0!==r?r:void 0,o=null===(i=this.auth.session())||void 0===i?void 0:i.access_token;n?!o&&n?this._handleTokenChanged("SIGNED_IN",n,"STORAGE"):o!==n&&this._handleTokenChanged("TOKEN_REFRESHED",n,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",n,"STORAGE")}})}catch(e){return console.error("_listenForMultiTabEvents",e),null}}_listenForAuthEvents(){let{data:e}=this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,null==t?void 0:t.access_token,"CLIENT")});return e}_handleTokenChanged(e,t,r){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==t?(this.realtime.setAuth(t),"STORAGE"==r&&this.auth.setAuth(t),this.changedAccessToken=t):("SIGNED_OUT"===e||"USER_DELETED"===e)&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==r&&this.auth.signOut())}}let eq=new eD("https://ncnjbkwnzmbroxedwour.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5jbmpia3duem1icm94ZWR3b3VyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTY5MDU0NTUsImV4cCI6MjAzMjQ4MTQ1NX0.jGuUnZmvbpltBbLfgQzRLFK216C4ff_37aGDJ3V4bvQ",void 0);async function eH(e){try{let{data:e,error:t}=await eq.from("Agencias").select("*");if(t)throw t;return console.log("Data from Supabase:",e),p.NextResponse.json(e,{status:200})}catch(e){return console.error("Error fetching data:",e),p.NextResponse.json({message:"Error al obtener los usuarios",error:e},{status:500})}}let eB=new u.AppRouteRouteModule({definition:{kind:c.x.APP_ROUTE,page:"/api/users/route",pathname:"/api/users",filename:"route",bundlePath:"app/api/users/route"},resolvedPagePath:"C:\\Users\\47807494\\Documents\\GitHub\\Terra-Trade\\src\\app\\api\\users\\route.tsx",nextConfigOutput:"",userland:h}),{requestAsyncStorage:eG,staticGenerationAsyncStorage:ez,serverHooks:eJ}=eB,eF="/api/users/route";function eW(){return(0,d.patchFetch)({serverHooks:eJ,staticGenerationAsyncStorage:ez})}},9925:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,n={};function o(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),i=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?i:`${i}; ${r.join("; ")}`}function a(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[i,s]=[r.slice(0,e),r.slice(e+1)];try{t.set(i,decodeURIComponent(null!=s?s:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[i,s],...n]=a(e),{domain:o,expires:l,httponly:c,maxage:d,path:p,samesite:f,secure:m,partitioned:b,priority:v}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:i,value:decodeURIComponent(s),domain:o,...l&&{expires:new Date(l)},...c&&{httpOnly:!0},..."string"==typeof d&&{maxAge:Number(d)},path:p,...f&&{sameSite:h.includes(t=(t=f).toLowerCase())?t:void 0},...m&&{secure:!0},...v&&{priority:u.includes(r=(r=v).toLowerCase())?r:void 0},...b&&{partitioned:!0}})}((e,r)=>{for(var i in r)t(e,i,{get:r[i],enumerable:!0})})(n,{RequestCookies:()=>c,ResponseCookies:()=>d,parseCookie:()=>a,parseSetCookie:()=>l,stringifyCookie:()=>o}),e.exports=((e,n,o,a)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let l of i(n))s.call(e,l)||l===o||t(e,l,{get:()=>n[l],enumerable:!(a=r(n,l))||a.enumerable});return e})(t({},"__esModule",{value:!0}),n);var h=["strict","lax","none"],u=["low","medium","high"],c=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of a(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===i).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,i=this._parsed;return i.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(i).map(([e,t])=>o(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>o(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},d=class{constructor(e){var t,r,i;this._parsed=new Map,this._headers=e;let s=null!=(i=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?i:[];for(let e of Array.isArray(s)?s:function(e){if(!e)return[];var t,r,i,s,n,o=[],a=0;function l(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,n=!1;l();)if(","===(r=e.charAt(a))){for(i=a,a+=1,l(),s=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(n=!0,a=s,o.push(e.substring(t,i)),t=a):a=i+1}else a+=1;(!n||a>=e.length)&&o.push(e.substring(t,e.length))}return o}(s)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===i)}has(e){return this._parsed.has(e)}set(...e){let[t,r,i]=1===e.length?[e[0].name,e[0].value,e[0]]:e,s=this._parsed;return s.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...i})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=o(r);t.append("set-cookie",e)}}(s,this._headers),this}delete(...e){let[t,r,i]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:i,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(o).join("; ")}}},8346:(e,t,r)=>{var i;(()=>{var s={226:function(s,n){!function(o,a){"use strict";var l="function",h="undefined",u="object",c="string",d="major",p="model",f="name",m="type",b="vendor",v="version",g="architecture",y="console",w="mobile",_="tablet",k="smarttv",x="wearable",S="embedded",T="Amazon",P="Apple",O="ASUS",E="BlackBerry",j="Browser",$="Chrome",R="Firefox",A="Google",C="Huawei",I="Microsoft",U="Motorola",N="Opera",L="Samsung",M="Sharp",D="Sony",q="Xiaomi",H="Zebra",B="Facebook",G="Chromium OS",z="Mac OS",J=function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},F=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},W=function(e,t){return typeof e===c&&-1!==V(t).indexOf(V(e))},V=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===h?e:e.substring(0,350)},X=function(e,t){for(var r,i,s,n,o,h,c=0;c<t.length&&!o;){var d=t[c],p=t[c+1];for(r=i=0;r<d.length&&!o&&d[r];)if(o=d[r++].exec(e))for(s=0;s<p.length;s++)h=o[++i],typeof(n=p[s])===u&&n.length>0?2===n.length?typeof n[1]==l?this[n[0]]=n[1].call(this,h):this[n[0]]=n[1]:3===n.length?typeof n[1]!==l||n[1].exec&&n[1].test?this[n[0]]=h?h.replace(n[1],n[2]):void 0:this[n[0]]=h?n[1].call(this,h,n[2]):void 0:4===n.length&&(this[n[0]]=h?n[3].call(this,h.replace(n[1],n[2])):void 0):this[n]=h||a;c+=2}},Y=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(W(t[r][i],e))return"?"===r?a:r}else if(W(t[r],e))return"?"===r?a:r;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,v],[/opios[\/ ]+([\w\.]+)/i],[v,[f,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[f,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[f,"UC"+j]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+j],v],[/\bfocus\/([\w\.]+)/i],[v,[f,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[f,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[f,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[f,"MIUI "+j]],[/fxios\/([-\w\.]+)/i],[v,[f,R]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+j]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+j],v],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,B],v],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[f,$+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,$+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[f,"Android "+j]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[v,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[f,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,v],[/(cobalt)\/([\w\.]+)/i],[f,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,V]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[b,L],[m,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[b,L],[m,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[b,P],[m,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[b,P],[m,_]],[/(macintosh);/i],[p,[b,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[b,M],[m,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[b,C],[m,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[b,C],[m,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[b,q],[m,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[b,q],[m,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[b,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[b,"Vivo"],[m,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[b,"Realme"],[m,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[b,U],[m,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[b,U],[m,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[b,"LG"],[m,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[b,"LG"],[m,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[b,"Lenovo"],[m,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[b,"Nokia"],[m,w]],[/(pixel c)\b/i],[p,[b,A],[m,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[b,A],[m,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[b,D],[m,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[b,D],[m,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[b,"OnePlus"],[m,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[b,T],[m,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[b,T],[m,w]],[/(playbook);[-\w\),; ]+(rim)/i],[p,b,[m,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[b,E],[m,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[b,O],[m,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[b,O],[m,w]],[/(nexus 9)/i],[p,[b,"HTC"],[m,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[p,/_/g," "],[m,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[b,"Acer"],[m,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[b,"Meizu"],[m,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[b,p,[m,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,p,[m,_]],[/(surface duo)/i],[p,[b,I],[m,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[b,"Fairphone"],[m,w]],[/(u304aa)/i],[p,[b,"AT&T"],[m,w]],[/\bsie-(\w*)/i],[p,[b,"Siemens"],[m,w]],[/\b(rct\w+) b/i],[p,[b,"RCA"],[m,_]],[/\b(venue[\d ]{2,7}) b/i],[p,[b,"Dell"],[m,_]],[/\b(q(?:mv|ta)\w+) b/i],[p,[b,"Verizon"],[m,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[b,"Barnes & Noble"],[m,_]],[/\b(tm\d{3}\w+) b/i],[p,[b,"NuVision"],[m,_]],[/\b(k88) b/i],[p,[b,"ZTE"],[m,_]],[/\b(nx\d{3}j) b/i],[p,[b,"ZTE"],[m,w]],[/\b(gen\d{3}) b.+49h/i],[p,[b,"Swiss"],[m,w]],[/\b(zur\d{3}) b/i],[p,[b,"Swiss"],[m,_]],[/\b((zeki)?tb.*\b) b/i],[p,[b,"Zeki"],[m,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],p,[m,_]],[/\b(ns-?\w{0,9}) b/i],[p,[b,"Insignia"],[m,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[b,"NextBook"],[m,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],p,[m,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],p,[m,w]],[/\b(ph-1) /i],[p,[b,"Essential"],[m,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[b,"Envizen"],[m,_]],[/\b(trio[-\w\. ]+) b/i],[p,[b,"MachSpeed"],[m,_]],[/\btu_(1491) b/i],[p,[b,"Rotor"],[m,_]],[/(shield[\w ]+) b/i],[p,[b,"Nvidia"],[m,_]],[/(sprint) (\w+)/i],[b,p,[m,w]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[b,I],[m,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[b,H],[m,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[b,H],[m,w]],[/smart-tv.+(samsung)/i],[b,[m,k]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[b,L],[m,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,"LG"],[m,k]],[/(apple) ?tv/i],[b,[p,P+" TV"],[m,k]],[/crkey/i],[[p,$+"cast"],[b,A],[m,k]],[/droid.+aft(\w)( bui|\))/i],[p,[b,T],[m,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[b,M],[m,k]],[/(bravia[\w ]+)( bui|\))/i],[p,[b,D],[m,k]],[/(mitv-\w{5}) bui/i],[p,[b,q],[m,k]],[/Hbbtv.*(technisat) (.*);/i],[b,p,[m,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,K],[p,K],[m,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,p,[m,y]],[/droid.+; (shield) bui/i],[p,[b,"Nvidia"],[m,y]],[/(playstation [345portablevi]+)/i],[p,[b,D],[m,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[b,I],[m,y]],[/((pebble))app/i],[b,p,[m,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[b,P],[m,x]],[/droid.+; (glass) \d/i],[p,[b,A],[m,x]],[/droid.+; (wt63?0{2,3})\)/i],[p,[b,H],[m,x]],[/(quest( 2| pro)?)/i],[p,[b,B],[m,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[m,S]],[/(aeobc)\b/i],[p,[b,T],[m,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[m,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[m,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,w]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[v,Y,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[v,Y,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,z],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,v],[/\(bb(10);/i],[v,[f,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[f,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[f,$+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,G],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,v],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,v]]},ee=function(e,t){if(typeof e===u&&(t=e,e=a),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof o!==h&&o.navigator?o.navigator:a,i=e||(r&&r.userAgent?r.userAgent:""),s=r&&r.userAgentData?r.userAgentData:a,n=t?J(Q,t):Q,y=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[f]=a,t[v]=a,X.call(t,i,n.browser),t[d]=typeof(e=t[v])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:a,y&&r&&r.brave&&typeof r.brave.isBrave==l&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,X.call(e,i,n.cpu),e},this.getDevice=function(){var e={};return e[b]=a,e[p]=a,e[m]=a,X.call(e,i,n.device),y&&!e[m]&&s&&s.mobile&&(e[m]=w),y&&"Macintosh"==e[p]&&r&&typeof r.standalone!==h&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[p]="iPad",e[m]=_),e},this.getEngine=function(){var e={};return e[f]=a,e[v]=a,X.call(e,i,n.engine),e},this.getOS=function(){var e={};return e[f]=a,e[v]=a,X.call(e,i,n.os),y&&!e[f]&&s&&"Unknown"!=s.platform&&(e[f]=s.platform.replace(/chrome os/i,G).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===c&&e.length>350?K(e,350):e,this},this.setUA(i),this};ee.VERSION="1.0.35",ee.BROWSER=F([f,v,d]),ee.CPU=F([g]),ee.DEVICE=F([p,b,m,y,w,k,_,x,S]),ee.ENGINE=ee.OS=F([f,v]),typeof n!==h?(s.exports&&(n=s.exports=ee),n.UAParser=ee):r.amdO?void 0!==(i=(function(){return ee}).call(t,r,t,e))&&(e.exports=i):typeof o!==h&&(o.UAParser=ee);var et=typeof o!==h&&(o.jQuery||o.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}},i=!0;try{s[e].call(r.exports,r,r.exports,o),i=!1}finally{i&&delete n[e]}return r.exports}o.ab=__dirname+"/";var a=o(226);e.exports=a})()},9303:(e,t,r)=>{"use strict";e.exports=r(517)},44:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return i},RemovedUAError:function(){return s}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class i extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class s extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},8277:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return i.ImageResponse},NextRequest:function(){return s.NextRequest},NextResponse:function(){return n.NextResponse},URLPattern:function(){return a.URLPattern},userAgent:function(){return o.userAgent},userAgentFromString:function(){return o.userAgentFromString}});let i=r(6),s=r(9745),n=r(9211),o=r(8471),a=r(2433)},9247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return u}});let i=r(3777),s=r(3817),n=r(1675),o=r(6111),a=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(a,"localhost"),t&&String(t).replace(a,"localhost"))}let h=Symbol("NextURLInternal");class u{constructor(e,t,r){let i,s;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,s=r||{}):s=r||t||{},this[h]={url:l(e,i??s.base),options:s,basePath:""},this.analyze()}analyze(){var e,t,r,s,a;let l=(0,o.getNextPathnameInfo)(this[h].url.pathname,{nextConfig:this[h].options.nextConfig,parseData:!0,i18nProvider:this[h].options.i18nProvider}),u=(0,n.getHostname)(this[h].url,this[h].options.headers);this[h].domainLocale=this[h].options.i18nProvider?this[h].options.i18nProvider.detectDomainLocale(u):(0,i.detectDomainLocale)(null==(t=this[h].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,u);let c=(null==(r=this[h].domainLocale)?void 0:r.defaultLocale)||(null==(a=this[h].options.nextConfig)?void 0:null==(s=a.i18n)?void 0:s.defaultLocale);this[h].url.pathname=l.pathname,this[h].defaultLocale=c,this[h].basePath=l.basePath??"",this[h].buildId=l.buildId,this[h].locale=l.locale??c,this[h].trailingSlash=l.trailingSlash}formatPathname(){return(0,s.formatNextPathnameInfo)({basePath:this[h].basePath,buildId:this[h].buildId,defaultLocale:this[h].options.forceLocale?void 0:this[h].defaultLocale,locale:this[h].locale,pathname:this[h].url.pathname,trailingSlash:this[h].trailingSlash})}formatSearch(){return this[h].url.search}get buildId(){return this[h].buildId}set buildId(e){this[h].buildId=e}get locale(){return this[h].locale??""}set locale(e){var t,r;if(!this[h].locale||!(null==(r=this[h].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[h].locale=e}get defaultLocale(){return this[h].defaultLocale}get domainLocale(){return this[h].domainLocale}get searchParams(){return this[h].url.searchParams}get host(){return this[h].url.host}set host(e){this[h].url.host=e}get hostname(){return this[h].url.hostname}set hostname(e){this[h].url.hostname=e}get port(){return this[h].url.port}set port(e){this[h].url.port=e}get protocol(){return this[h].url.protocol}set protocol(e){this[h].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[h].url=l(e),this.analyze()}get origin(){return this[h].url.origin}get pathname(){return this[h].url.pathname}set pathname(e){this[h].url.pathname=e}get hash(){return this[h].url.hash}set hash(e){this[h].url.hash=e}get search(){return this[h].url.search}set search(e){this[h].url.search=e}get password(){return this[h].url.password}set password(e){this[h].url.password=e}get username(){return this[h].url.username}set username(e){this[h].url.username=e}get basePath(){return this[h].basePath}set basePath(e){this[h].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new u(String(this),this[h].options)}}},2044:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return i.RequestCookies},ResponseCookies:function(){return i.ResponseCookies}});let i=r(9925)},6:(e,t)=>{"use strict";function r(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},9745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return a},NextRequest:function(){return l}});let i=r(9247),s=r(7636),n=r(44),o=r(2044),a=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,s.validateURL)(r),e instanceof Request?super(e,t):super(r,t);let n=new i.NextURL(r,{headers:(0,s.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[a]={cookies:new o.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[a].cookies}get geo(){return this[a].geo}get ip(){return this[a].ip}get nextUrl(){return this[a].nextUrl}get page(){throw new n.RemovedPageError}get ua(){throw new n.RemovedUAError}get url(){return this[a].url}}},9211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return h}});let i=r(9247),s=r(7636),n=r(2044),o=Symbol("internal response"),a=new Set([301,302,303,307,308]);function l(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[i,s]of e.request.headers)t.set("x-middleware-request-"+i,s),r.push(i);t.set("x-middleware-override-headers",r.join(","))}}class h extends Response{constructor(e,t={}){super(e,t),this[o]={cookies:new n.ResponseCookies(this.headers),url:t.url?new i.NextURL(t.url,{headers:(0,s.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[o].cookies}static json(e,t){let r=Response.json(e,t);return new h(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!a.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let i="object"==typeof t?t:{},n=new Headers(null==i?void 0:i.headers);return n.set("Location",(0,s.validateURL)(e)),new h(null,{...i,headers:n,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,s.validateURL)(e)),l(t,r),new h(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),l(e,t),new h(null,{...e,headers:t})}}},2433:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},8471:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return s},userAgent:function(){return o},userAgentFromString:function(){return n}});let i=function(e){return e&&e.__esModule?e:{default:e}}(r(8346));function s(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function n(e){return{...(0,i.default)(e),isBot:void 0!==e&&s(e)}}function o({headers:e}){return n(e.get("user-agent")||void 0)}},7636:(e,t)=>{"use strict";function r(e){let t=new Headers;for(let[r,i]of Object.entries(e))for(let e of Array.isArray(i)?i:[i])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function i(e){var t,r,i,s,n,o=[],a=0;function l(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,n=!1;l();)if(","===(r=e.charAt(a))){for(i=a,a+=1,l(),s=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(n=!0,a=s,o.push(e.substring(t,i)),t=a):a=i+1}else a+=1;(!n||a>=e.length)&&o.push(e.substring(t,e.length))}return o}function s(e){let t={},r=[];if(e)for(let[s,n]of e.entries())"set-cookie"===s.toLowerCase()?(r.push(...i(n)),t[s]=1===r.length?r[0]:r):t[s]=n;return t}function n(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return r},splitCookiesString:function(){return i},toNodeOutgoingHttpHeaders:function(){return s},validateURL:function(){return n}})},1675:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},3777:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let n of(r&&(r=r.toLowerCase()),e)){var i,s;if(t===(null==(i=n.domain)?void 0:i.split(":",1)[0].toLowerCase())||r===n.defaultLocale.toLowerCase()||(null==(s=n.locales)?void 0:s.some(e=>e.toLowerCase()===r)))return n}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},5014:(e,t)=>{"use strict";function r(e,t){let r;let i=e.split("/");return(t||[]).some(t=>!!i[1]&&i[1].toLowerCase()===t.toLowerCase()&&(r=t,i.splice(1,1),e=i.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return n}});let i=r(1041),s=r(4329);function n(e,t,r,n){if(!t||t===r)return e;let o=e.toLowerCase();return!n&&((0,s.pathHasPrefix)(o,"/api")||(0,s.pathHasPrefix)(o,"/"+t.toLowerCase()))?e:(0,i.addPathPrefix)(e,"/"+t)}},1041:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return s}});let i=r(1693);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:s,hash:n}=(0,i.parsePath)(e);return""+t+r+s+n}},8166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return s}});let i=r(1693);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:s,hash:n}=(0,i.parsePath)(e);return""+r+t+s+n}},3817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return a}});let i=r(7847),s=r(1041),n=r(8166),o=r(225);function a(e){let t=(0,o.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,i.removeTrailingSlash)(t)),e.buildId&&(t=(0,n.addPathSuffix)((0,s.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,s.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,n.addPathSuffix)(t,"/"):(0,i.removeTrailingSlash)(t)}},6111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return o}});let i=r(5014),s=r(9529),n=r(4329);function o(e,t){var r,o;let{basePath:a,i18n:l,trailingSlash:h}=null!=(r=t.nextConfig)?r:{},u={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):h};a&&(0,n.pathHasPrefix)(u.pathname,a)&&(u.pathname=(0,s.removePathPrefix)(u.pathname,a),u.basePath=a);let c=u.pathname;if(u.pathname.startsWith("/_next/data/")&&u.pathname.endsWith(".json")){let e=u.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];u.buildId=r,c="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(u.pathname=c)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(u.pathname):(0,i.normalizeLocalePath)(u.pathname,l.locales);u.locale=e.detectedLocale,u.pathname=null!=(o=e.pathname)?o:u.pathname,!e.detectedLocale&&u.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(c):(0,i.normalizeLocalePath)(c,l.locales)).detectedLocale&&(u.locale=e.detectedLocale)}return u}},1693:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),i=r>-1&&(t<0||r<t);return i||t>-1?{pathname:e.substring(0,i?r:t),query:i?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},4329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return s}});let i=r(1693);function s(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,i.parsePath)(e);return r===t||r.startsWith(t+"/")}},9529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return s}});let i=r(4329);function s(e,t){if(!(0,i.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},7847:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[948],()=>r(9222));module.exports=i})();